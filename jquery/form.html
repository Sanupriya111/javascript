<!DOCTYPE html>
<html>
<head>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href=
	"https://maxcdn.bootstrapcdn.com/bootstrap/
	4.0.0/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src=
	"https://ajax.googleapis.com/ajax/libs/
	jquery/3.3.1/jquery.min.js">
	</script>
	<!-- Popper JS -->
	<script src=
	"https://cdnjs.cloudflare.com/ajax/libs/
	popper.js/1.12.9/umd/popper.min.js">
	</script>
	<!-- Latest compiled JavaScript -->
	<script src=
	"https://maxcdn.bootstrapcdn.com/bootstrap/
	4.0.0/js/bootstrap.min.js">
	</script>
</head>

<body><br>
	

	<h1 class="text-center">
	Registration Form
    </h1>




	<div class="container">
	<div class="col-lg-8
		m-auto d-block">
		<form>
		<div class="form-group">
			<label for ="user">
				Username:
			</label>
			<input type="text"
					name="username" id="usernames"
					class="form-control">
			<h5 id="usercheck" style="color: red;" >
					**Username is missing
			</h5>
		</div>


		<div class="form-group">
			<label for="user">
					Email:
			</label>
			<input type="email" name="email"
				id="email" required
				class="form-control">
			<small id="emailvalid" class="form-text
				text-muted invalid-feedback">
					Your email must be a valid email
			</small>
		</div>

        <!-- phn -->
        <div class="form-group">
			<label for="PhoneNumber">
                PhoneNumber:
			</label>
			<input type="tel" name="phn"
				id="phnnbr" class="form-control">
			<h6 id="phonecheck" style="color: red;">
				Please enter valid PhoneNumber
			</h6>
		</div>
        <!--  -->

		<div class="form-group">
			<label for="password">
					Password:
			</label>
			<input type="password" name="pass"
				id="password" class="form-control">
			<h5 id="passcheck" style="color: red;">
				Please enter the password
			</h5>
		</div>


        
			
		<input type="submit" id="submitbtn"
			value="Submit" class="btn btn-primary">
		</form>
	</div>
	</div>


	<script>
    
$(document).ready(function () {
	
    // Validate Username
        $('#usercheck').hide();
        let usernameError = true;
        $('#usernames').keyup(function () {
            validateUsername();
        });
        
        function validateUsername() {
        let usernameValue = $('#usernames').val();
        if (usernameValue.length == '') {
        $('#usercheck').show();
            usernameError = false;
            return false;
        }
        else if((usernameValue.length < 6)||
                (usernameValue.length > 10)) {
            $('#usercheck').show();
            $('#usercheck').html
    (" username must be more than 6");
    $('#usernames').css('border-color', 'red');
            usernameError = false;
            return false;
        }
        else {
            $('#usercheck').hide();
            $('#usernames').css('border-color', '');
        }
        }
    
    // Validate Email
        const email =
            document.getElementById('email');
        email.addEventListener('blur', ()=>{
        let regex =
    /^([_\-\.0-9a-zA-Z]+)@([_\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/;
        let s = email.value;
        if(regex.test(s)){
            email.classList.remove(
                    'is-invalid');
            emailError = true;
            }
            else{
                email.classList.add(
                    'is-invalid');
                emailError = false;
            }
        })
        
    // Validate Password
        $('#passcheck').hide();
        let passwordError = true;
        $('#password').keyup(function () {
            validatePassword();
        });
        function validatePassword() {
            let passwordValue =
                $('#password').val();
            if (passwordValue.length == '') {
                $('#passcheck').show();
                passwordError = false;
                return false;
            }
            if ((passwordValue.length < 6)||
                (passwordValue.length > 10)) {
                $('#passcheck').show();
                $('#passcheck').html
    (" your password must be more than 6 charactr");
                $('#passcheck').css("color", "red");
                $('#password').css('border-color', 'red');
                passwordError = false;
                return false;
            } else {
                $('#passcheck').hide();
                $('#password').css('border-color', '');
            }
        }
            //phone
            $('#phonecheck').hide();
            let phnError=true;
            $('#phnnbr').keyup(function(){
                validatePhone()
            });
            function validatePhone()
{
  let no=$('#phnnbr').val()
  console.log(no)
  let phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
   if(phoneno.test(no))

        {phnError=true
        $('#phonecheck').hide();
        $('#phnnbr').css('border-color', '');
      return true;
        }
      else if(isNaN(no)|| no.length!=10)
        {  $('#phonecheck').show();  
            $('#phonecheck').html("invalid");
         $('#phonecheck').css("color","red"); 
         $('#phnnbr').css('border-color', 'red');
             phnError=false;
        //  document.getElementById("number").innerHTML="invalid number";
        return false;
        }
}



        //     function validatePhone(a) {
        //     var a = document.getElementById("phnnbr").value;
        // var filter = /^[0-9-+]+$/;
        // if (filter.test(a)) {
        //     phnError=true
        //     return true;
        // }
        // else {
        //     $('#phonecheck').show();  
        //     $('#phonecheck').html("invalid");
        // $('#phonecheck').css("color","red"); 
        //     phnError=false;
        //     return false;
        // }}
//         $('#txtPhone').blur(function(e) {
//    if (validatePhone('a')) {
//     $('#phonecheck').hide();}
//     else
//     {
//         $('#phonecheck').show();  
        
//     }})
        
    // Submit button
        $('#submitbtn').click(function () {
            validateUsername();
            validatePassword();
            validatePhone();
            validateEmail();
            if ((usernameError == true) &&
                (passwordError == true) &&
                (phnError == true) &&
                (emailError == true)) {
                return true;
                alert("success")
            } else {
                return false;
                alert("invalid")
            }
        });
    });
    
    </script>
</body>
</html>
